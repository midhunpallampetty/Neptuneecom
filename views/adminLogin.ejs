
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Yinka Enoch Adedokun">
	<title>Login Page</title>
    <link rel="stylesheet" href="/css/loginStyle.css">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
	<!-- Main Content -->
	<div class="container-fluid">
		<div class="row main-content bg-success text-center">
			<div class="col-md-4 text-center company__info">
				<span class="company__logo"><h2><span class="fa fa-android"></span></h2></span>
				<a href="/" class="homebtn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="180" fill="white"viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"/></svg>
                  </a>
			</div>
			<div class="col-md-8 col-xs-12 col-sm-12 login_form ">
				<div class="container-fluid">
					<div class="row">
						<h2>Log In</h2>
					</div>
				<!-- ... (previous HTML code) ... -->
<div class="row">
	<form action="/admin/adminLogin" method="POST" class="form-group" onsubmit="return validateForm()" novalidate>
		<div class="row">
			<input type="email" name="email" id="email" class="form__input" placeholder="Email" oninput="validateEmail()">
			<span id="emailError" class="error-text"></span>
		</div>
		<div class="row">
			<input type="password" name="password" id="password" class="form__input" placeholder="Password" oninput="validatePassword()">
			<span id="passwordError" class="error-text"></span>
		</div>
		<div class="row">
			<input type="submit" value="Submit" class="btn">
		</div>
		
			<% if (message && message.length > 0) { %>
			  <script>
				var alertMessage = '<%= message[0] %>';
				Swal.fire(alertMessage);;
		  
			  // Hide the alert after 5 seconds
			  setTimeout(function() {
				var alertElement = document.querySelector('.alert'); // Adjust the selector based on your HTML structure
				if (alertElement) {
				  alertElement.style.display = 'none';
				}
			  }, 5000);
			</script>
			<% } %>
		
		  
	</form>
	
	
	<style>
		.alert {
  transition: opacity 1s ease-in-out;
}

.alert-hidden {
  opacity: 0;
}

	</style>
	  
  </div>
  
 
  <% if (typeof error !== 'undefined') { %>
	<div class="row">
	  <p class="error-message" style="color: red; font-weight: bold;"><%= error %></p>
	</div>
  <% } %>
  
					<div class="row">
						<p>Don't have an account? <a href="/adminSignup">Register Here</a></p>
					</div>
					
					<% if (typeof error !== 'undefined') { %>
						<p class="error-message" style="color: red; font-weight: bold;"><%= error %></p>
					  <% } %>
                        
				</div>
			</div>
		</div>
	</div>
	<script>
	function validateForm() {
  // Reset previous error messages
  document.getElementById('emailError').style.display = 'none';
  document.getElementById('passwordError').style.display = 'none';

  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');

  const emailError = document.getElementById('emailError');
  const passwordError = document.getElementById('passwordError');

  let isValid = true;

  // Email validation
  const emailValue = emailInput.value.trim();
  if (emailValue === '') {
    emailError.textContent = 'Email is required.';
    emailError.style.display = 'block';
    isValid = false;
  } else if (!isValidEmail(emailValue)) {
    emailError.textContent = 'Invalid email format.';
    emailError.style.display = 'block';
    isValid = false;
  }

  // Password validation
  const passwordValue = passwordInput.value.trim();
  if (passwordValue === '') {
    passwordError.textContent = 'Password is required.';
    passwordError.style.display = 'block';
    isValid = false;
  } else if (!isValidPassword(passwordValue)) {
    passwordError.textContent = 'Invalid password format.Password must be 6 digit long ,include one special char one number minimum';
    passwordError.style.display = 'block';
    isValid = false;
  }

  // Hide error messages after 5 seconds
  setTimeout(() => {
    emailError.style.display = 'none';
    passwordError.style.display = 'none';
  }, 5000);

  return isValid; // Return false to prevent form submission if there are errors
}

function isValidEmail(email) {
  // Simple email validation regex
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}

function isValidPassword(password) {
  // Password validation: At least one uppercase letter, one special character, one number, and minimum length of 6
  const passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.*[0-9]).{6,}$/;
  return passwordRegex.test(password);
}

	  </script>
	  
		
	  
	<!-- Footer -->
	<style>.error-text {
		color: red;
		font-size: 14px;
		display: none; /* Initially hide error messages */
	  }
	  </style>
	
</body>